<div class="dialog-title">
    <h2>{{data.title | uppercase}}</h2>
</div>

<div class="dialog-content">
    <form class="form-datos" [formGroup]="formGroup" (ngSubmit)="confirm()" >
        <div style="overflow:scroll; overflow-y: auto">
        <div class="seeker-fields-container">
            <h3>Código Postal</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="codigo"
                    required maxlength="7" minlength="4"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('codigo')?.invalid
                    && formGroup.get('codigo')?.touched">
                    {{getErrorMessage(formGroup.get('codigo'))}}
                </mat-error>
            </mat-form-field>
        </div>
        <div class="seeker-fields-container">
            <h3>Subcódigo Postal</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="subcodigo"
                    required maxlength="2" minlength="1"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('subcodigo')?.invalid
                    && formGroup.get('subcodigo')?.touched">
                    {{getErrorMessage(formGroup.get('subcodigo'))}}
                </mat-error>
            </mat-form-field>
        </div>
        <div class="seeker-fields-container">
            <h3>Localidad</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="nombre_localidad"
                    required maxlength="30" minlength="1"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('nombre_localidad')?.invalid
                    && formGroup.get('nombre_localidad')?.touched">
                    {{getErrorMessage(formGroup.get('nombre_localidad'))}}
                </mat-error>
            </mat-form-field>
        </div>
        <div class="seeker-fields-container">
            <h3>Habitantes</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="habitantes"
                    required maxlength="8" minlength="1"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('habitantes')?.invalid
                    && formGroup.get('habitantes')?.touched">
                    {{getErrorMessage(formGroup.get('habitantes'))}}
                </mat-error>
            </mat-form-field>
        </div>
        <div class="seeker-fields-container">
            <h3>Provincia</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="letra_provincia"
                    required maxlength="1" minlength="1"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('letra_provincia')?.invalid
                    && formGroup.get('letra_provincia')?.touched">
                    {{getErrorMessage(formGroup.get('letra_provincia'))}}
                </mat-error>
            </mat-form-field>
        </div>
        <div class="seeker-fields-container">
            <h3>Departamento</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="cod_departamento"
                    required maxlength="3" minlength="3"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('cod_departamento')?.invalid
                    && formGroup.get('cod_departamento')?.touched">
                    {{getErrorMessage(formGroup.get('cod_departamento'))}}
                </mat-error>
            </mat-form-field>
        </div>
        <!-- <div class="seeker-fields-container">
            <h3>Posición</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="posicion"
                    required maxlength="7" minlength="1" step="0.001"
                    [max]="999"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('posicion')?.invalid
                    && formGroup.get('posicion')?.touched">
                    {{getErrorMessage(formGroup.get('posicion'))}}
                </mat-error>
            </mat-form-field>
        </div> -->
        <div class="seeker-fields-container">
            <h3>Visitado por Medico Auditor</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <mat-select formControlName="medico">
                    <mat-option [value]="'S'">
                        SI
                    </mat-option>
                    <mat-option [value]="'N'">
                        NO
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div class="seeker-fields-container">
            <h3>Zona de Promoción</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="zona_promocion"
                    required maxlength="2" minlength="1"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('zona_promocion')?.invalid
                    && formGroup.get('zona_promocion')?.touched">
                    {{getErrorMessage(formGroup.get('zona_promocion'))}}
                </mat-error>
            </mat-form-field>
        </div>
        <div class="seeker-fields-container">
            <h3>Zona de Envío</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="zona_envio"
                    required maxlength="10" minlength="1"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('zona_envio')?.invalid
                    && formGroup.get('zona_envio')?.touched">
                    {{getErrorMessage(formGroup.get('zona_envio'))}}
                </mat-error>
            </mat-form-field>
        </div>
        <div class="seeker-fields-container">
            <h3>Zona de Atención</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <input matInput formControlName="zona_atencion"
                    required maxlength="3" minlength="1"
                    [readonly]="!data.edit">
                <mat-error *ngIf="formGroup.get('zona_atencion')?.invalid
                    && formGroup.get('zona_atencion')?.touched">
                    {{getErrorMessage(formGroup.get('zona_atencion'))}}
                </mat-error>
            </mat-form-field>
        </div>

        <div class="seeker-fields-container">
            <h3>Igreso de Ticket</h3>
            <mat-form-field class="seeker-form-field" appearance="outline">
                <mat-select formControlName="ticket">
                    <mat-option [value]="'S'">
                        SI
                    </mat-option>
                    <mat-option [value]="'N'">
                        NO
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <div *ngIf="data.edit; else other_content" class="buttons-container">
            <button class="primary-button icon-button" type="button" (click)="closeDialog()">
            <mat-icon>close</mat-icon>
                Cancelar
            </button>
            <button class="primary-button icon-button" type="submit" [disabled]="formGroup.invalid">
            <mat-icon>done</mat-icon>
                Guardar
            </button>
        </div>
        <ng-template #other_content>
            <button class="primary-button icon-button right" mat-dialog-close>
                <mat-icon>done</mat-icon>
                    Aceptar
            </button>
        </ng-template>
        </div>
    </form>
</div>
