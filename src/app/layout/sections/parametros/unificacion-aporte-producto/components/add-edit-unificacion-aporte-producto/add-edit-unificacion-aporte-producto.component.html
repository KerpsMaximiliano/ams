<div class="dialog-title">
  <h2 tabindex="0">{{ data.title | uppercase }}</h2>
</div>
<div class="dialog-content">
  <form class="form-datos" [formGroup]="formGroup">
    <div class="seeker-fields-container">
      <h3> PRODUCTO </h3>
      <mat-form-field class="seeker-form-field" appearance="outline">
        <input matInput class="seeker-input" [value]="producto.descripcion_producto ? producto.descripcion_producto.trim(): producto.codigo_producto" disabled />
      </mat-form-field>
    </div>

    <div class="seeker-fields-container">
      <h3> SUBPRODUCTO </h3>
      <mat-form-field class="seeker-form-field" appearance="outline">
        <input matInput class="seeker-input" [value]="producto.descripcion_producto_administrador ? producto.descripcion_producto_administrador.trim(): producto.producto_administrador" disabled />
      </mat-form-field>
    </div>

    <div class="seeker-fields-container">
      <h3> PRODUCTO UNIFICADO </h3>
      <mat-form-field class="seeker-form-field" appearance="outline">
        <input
          matInput
          class="seeker-input"
          formControlName="descripcion_producto"
        />
        <mat-error
          *ngIf="
            formGroup.get('descripcion_producto')?.invalid &&
            formGroup.get('descripcion_producto')?.touched
          "
        >
          {{ getErrorMessage(formGroup.get("descripcion_producto")) }}
        </mat-error>
      </mat-form-field>
    </div>

    <div class="seeker-fields-container">
      <h3> SUBPRODUCTO UNIFICADO </h3>
      <div class="content">
        <mat-form-field class="seeker-form-field" appearance="outline">
          <input matInput formControlName="descripcion_subproducto" />
          <mat-error
            *ngIf="
              formGroup.get('descripcion_subproducto')?.invalid &&
              formGroup.get('descripcion_subproducto')?.touched"
          >
            {{ getErrorMessage(formGroup.get("descripcion_subproducto")) }}
          </mat-error>
        </mat-form-field>
        <ng-container *ngIf="data.par_modo === 'C'">
          <div class="icon">
            <mat-icon class="material-symbols-outlined" (click)="getProducto()"> search </mat-icon>
          </div>
          <div class="icon">
            <mat-icon class="material-symbols-outlined" (click)="clear()"> close </mat-icon>
          </div>
        </ng-container>
      </div>
    </div>
    <div *ngIf="data.edit; else other_content" class="buttons-container">
      <button class="primary-button icon-button" type="button" mat-dialog-close>
        <mat-icon> close </mat-icon>
        Cancelar
      </button>
      <button
        [class]="formGroup.invalid ? 'primary-button icon-button disabled' : 'primary-button icon-button'"
        type="submit"
        [disabled]="formGroup.invalid"
        (click)="confirm()">
        <mat-icon> done </mat-icon>
        Guardar
      </button>
    </div>
    <ng-template #other_content>
      <button class="primary-button icon-button right" mat-dialog-close>
        <mat-icon> done </mat-icon>
        Aceptar
      </button>
    </ng-template>
  </form>
</div>
